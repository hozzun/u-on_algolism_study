def explore(k, arr):
    possible = 0
    
    for e in range(len(arr)):
        if k >= arr[e][0]:
            k -= arr[e][1]
            possible += 1
            
        else:
            return possible
    
    

def solution(k, dungeons):
    global possible
    answer = -1
    
    for i in range(len(dungeons)):
        for j in range(len(dungeons)):
            dungeons[i], dungeons[j] = dungeons[j], dungeons[i]
            answer = max(answer, explore(k, dungeons))
    return answer
